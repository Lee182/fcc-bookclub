{"version":3,"sources":["webpack:///webpack/bootstrap e0b5d96f4d8f2d6e066d","webpack:///./shared/eventSystem.js","webpack:///./server/index.coffee","webpack:///external \"http\"","webpack:///external \"path\"","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"login-with-twitter\"","webpack:///external \"google-books-search\"","webpack:///external \"uws\"","webpack:///external \"mongodb\"","webpack:///external \"curl\""],"names":[],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e0b5d96f4d8f2d6e066d","module.exports = function () {\n  var events = {}\n  var eventsystem = {\n    on: function (id, fn) {\n      events[id] = events[id] || []\n      events[id].push(fn)\n    },\n    off: function (id, fn) {\n      if (events[id] === undefined) { return }\n      var i = events[id].findIndex(function (g) {\n        return g = fn\n      })\n      if (i !== -1) {\n        events[id].splice(i, 1)\n      }\n    },\n    emit: function (id, data) {\n      if (events[id]) {\n        events[id].forEach(function (fn) {\n          fn(data)\n        })\n      }\n    }\n  }\n  eventsystem.events = events\n  return eventsystem\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./shared/eventSystem.js\n// module id = 0\n// module chunks = 0","curl = require('curl')\n\nmodule.exports = (ip) ->\n  url = 'http://ipinfo.io/' + ip + '/json'\n  console.log 'ip', ip\n  if (\n    ip == '::1' or\n    ip == '127.0.0.1' or\n    ip == undefined or\n    ip.match(/^\\:\\:/) != null\n  )\n    url = 'http://ipinfo.io/json'\n  \n  new Promise (resolve, reject) ->\n    curl.getJSON url, {}, (err, response, data) ->\n      #console.log(data)\n      if err\n        return reject(err)\n      [lat, lon] = data.loc.split(',')\n      loci =\n        name: \"\"\"\n          #{data.city}, #{data.region}, #{data.country}`\n        \"\"\"\n        coords: { lat, lon }\n        address:\n          city: data.city\n          region: data.region\n          country_code: data.country.toLowerCase()\n      resolve loci\n\n\n// WEBPACK FOOTER //\n// ./server/index.coffee","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"login-with-twitter\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"login-with-twitter\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"google-books-search\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"google-books-search\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"uws\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uws\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"mongodb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongodb\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"curl\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"curl\"\n// module id = 21\n// module chunks = 0"],"sourceRoot":""}